<div class="container">
    <div class="row ">
        <div class="col-sm-12 ">
            <div class="bg-main-light p-5" *ngIf=" isloading">
                cart is loading
            </div>

            <div class="bg-main-light p-5 " *ngIf="cartisempty ">
                cart is empty
            </div>

            <div class="bg-main-light p-3 d-flex justify-content-between " *ngIf="cartDetials?.data">
                <div class=" row  d-flex justify-content-between">
                    <div class=" col-md-12 bg-body p-3">
                        <div class="row ">
                            <div class="col-md-6  ">
                                <h2>cart shop :</h2>
                                <div class="d-flex justify-content-between align-items-center my-2">
                                    <div>
                                        <h5 class="">total price : <span class="text-main">
                                                {{cartDetials.data.totalCartPrice}}</span></h5>
                                    </div>
                                </div>

                            </div>
                            <div class=" title col-md-6 d-flex justify-content-end align-items-start ">
                                <div>
                                    <h5>total numbers : <span class="text-main">{{cartDetials.numOfCartItems}}</span>
                                    </h5>
                                    <button class="btn bg-main mb-0">
                                        <a [routerLink]="['/checkout',cartDetials.data._id]" class="text-white">
                                            continue to pay
                                        </a>
                                    </button>
                                    <button class="btn d-block" (click)="removeCart()"><i
                                            class="fa-regular fa-trash-can mx-2 text-danger"></i>Remove All</button>

                                </div>

                            </div>
                        </div>


                    </div>

                    <div class="row border-bottom p-2 align-items-center "
                        *ngFor="let product of cartDetials.data.products ">
                        <div class="col-md-2 mb-2 ">
                            <img [src]="product.product.imageCover" class="w-100" alt="">
                        </div>
                        <div class="col-md-10 ">
                            <div class="d-flex justify-content-between">
                                <div>
                                    <h5 class="mb-3">{{product.product.title.split(' ').splice(0,2).join(' ')}}</h5>
                                    <h6 class="text-main">{{product.price}} EGP</h6>
                                    <button class="btn btn-delete btn-sm m-0 p-0 text-danger"
                                        (click)="removeItem(product.product.id)"><i
                                            class="fa-regular fa-trash-can mx-2"></i>Remove</button>
                                </div>

                                <div>
                                    <button class="btn btn-count"
                                        (click)="updateCart(product.product.id, product.count+1)"> +</button>
                                    <span class="mx-3">{{product.count}}</span>
                                    <button class="btn btn-count"
                                        (click)="updateCart(product.product.id, product.count-1)"> -</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>




    </div>